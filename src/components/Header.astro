---
import { Menu, X, ShoppingBag, User, Search, Crown } from 'lucide-astro';
---

<header class="header-imperial fixed top-0 left-0 right-0 z-50" id="header">
  <!-- Ultra-Premium Background -->
  <div class="header-backdrop-imperial"></div>
  
  <nav class="header-nav-imperial max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="nav-container-imperial flex justify-between items-center h-24">
      <!-- Imperial Logo -->
      <div class="logo-container-imperial">
        <a href="/" class="logo-link-imperial group">
          <div class="logo-icon-imperial">
            <span class="sushi-emoji-imperial">üç£</span>
            <div class="logo-glow-imperial"></div>
            <div class="logo-rings-imperial">
              <div class="logo-ring-mini ring-1"></div>
              <div class="logo-ring-mini ring-2"></div>
            </div>
          </div>
          <div class="logo-text-imperial">
            <span class="brand-name-imperial heading-elegant">Osushi</span>
            <span class="brand-tagline-imperial text-japanese">Ê•µ‰∏ä</span>
          </div>
        </a>
      </div>
      
      <!-- Desktop Navigation -->
      <div class="nav-menu-imperial hidden lg:flex">
        <div class="nav-links-imperial">
          <a href="/" class="nav-link-imperial active">
            <span class="link-text-imperial">Accueil</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
          <a href="/menu" class="nav-link-imperial">
            <span class="link-text-imperial">Menu</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
          <a href="/commander" class="nav-link-imperial">
            <span class="link-text-imperial">Commander</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
          <a href="/fidelite" class="nav-link-imperial">
            <span class="link-text-imperial">Fid√©lit√©</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
          <a href="/a-propos" class="nav-link-imperial">
            <span class="link-text-imperial">√Ä propos</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
          <a href="/contact" class="nav-link-imperial">
            <span class="link-text-imperial">Contact</span>
            <div class="link-underline-imperial"></div>
            <div class="link-glow-imperial"></div>
          </a>
        </div>
      </div>
      
      <!-- Imperial Actions -->
      <div class="nav-actions-imperial hidden lg:flex items-center space-x-4">
        <!-- Search Button -->
        <button class="action-btn-imperial search-btn-imperial" aria-label="Rechercher">
          <Search size={20} />
          <div class="btn-ripple-imperial"></div>
          <div class="btn-glow-imperial"></div>
        </button>
        
        <!-- Cart Button -->
        <button class="action-btn-imperial cart-btn-imperial relative" aria-label="Panier">
          <ShoppingBag size={20} />
          <span class="cart-badge-imperial" id="cart-count">0</span>
          <div class="cart-pulse-imperial"></div>
          <div class="btn-ripple-imperial"></div>
          <div class="btn-glow-imperial"></div>
        </button>
        
        <!-- User Button -->
        <button class="action-btn-imperial user-btn-imperial" aria-label="Compte utilisateur">
          <User size={20} />
          <div class="btn-ripple-imperial"></div>
          <div class="btn-glow-imperial"></div>
        </button>
        
        <!-- VIP Access Button -->
        <button class="action-btn-imperial vip-btn-imperial" aria-label="Acc√®s VIP">
          <Crown size={20} />
          <div class="btn-ripple-imperial"></div>
          <div class="btn-glow-imperial"></div>
        </button>
        
        <!-- Imperial CTA -->
        <a href="/commander" class="cta-btn-imperial">
          <span class="cta-text-imperial">R√©server</span>
          <div class="cta-glow-imperial"></div>
          <div class="cta-particles-imperial">
            <span class="cta-particle"></span>
            <span class="cta-particle"></span>
            <span class="cta-particle"></span>
          </div>
        </a>
      </div>
      
      <!-- Mobile Menu Button -->
      <div class="mobile-menu-container-imperial lg:hidden">
        <button class="mobile-menu-btn-imperial" aria-label="Menu mobile">
          <div class="hamburger-imperial">
            <span class="hamburger-line-imperial"></span>
            <span class="hamburger-line-imperial"></span>
            <span class="hamburger-line-imperial"></span>
          </div>
          <div class="mobile-btn-glow"></div>
        </button>
      </div>
    </div>
  </nav>
  
  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay-imperial hidden lg:hidden">
    <div class="mobile-menu-content-imperial">
      <div class="mobile-menu-header-imperial">
        <div class="mobile-logo-imperial">
          <span class="sushi-emoji-imperial">üç£</span>
          <span class="brand-name-imperial">Osushi</span>
        </div>
        <button class="mobile-close-btn-imperial">
          <X size={28} />
          <div class="close-btn-glow"></div>
        </button>
      </div>
      
      <nav class="mobile-nav-imperial">
        <a href="/" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">Accueil</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
        <a href="/menu" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">Menu</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
        <a href="/commander" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">Commander</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
        <a href="/fidelite" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">Fid√©lit√©</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
        <a href="/a-propos" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">√Ä propos</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
        <a href="/contact" class="mobile-nav-link-imperial">
          <span class="mobile-link-text-imperial">Contact</span>
          <div class="mobile-link-arrow-imperial">‚Üí</div>
          <div class="mobile-link-glow-imperial"></div>
        </a>
      </nav>
      
      <div class="mobile-actions-imperial">
        <div class="mobile-action-buttons-imperial">
          <button class="mobile-action-btn-imperial">
            <ShoppingBag size={22} />
            <span>Panier</span>
            <span class="mobile-cart-badge-imperial">0</span>
            <div class="mobile-action-glow"></div>
          </button>
          <button class="mobile-action-btn-imperial">
            <User size={22} />
            <span>Compte</span>
            <div class="mobile-action-glow"></div>
          </button>
        </div>
        
        <a href="/commander" class="mobile-cta-btn-imperial">
          <span>R√©server Maintenant</span>
          <div class="mobile-cta-glow"></div>
        </a>
      </div>
    </div>
  </div>
</header>

<style>
  .header-imperial {
    transition: var(--transition-ultra-smooth);
    backdrop-filter: blur(30px);
  }
  
  .header-backdrop-imperial {
    position: absolute;
    inset: 0;
    background: rgba(11, 11, 15, 0.05);
    backdrop-filter: blur(30px);
    transition: var(--transition-elegant);
    border-bottom: 1px solid rgba(212, 175, 55, 0.1);
  }
  
  .header-imperial.scrolled .header-backdrop-imperial {
    background: rgba(11, 11, 15, 0.95);
    box-shadow: var(--shadow-imperial);
    border-bottom-color: rgba(212, 175, 55, 0.3);
  }
  
  .header-nav-imperial {
    position: relative;
    z-index: 10;
  }
  
  /* Imperial Logo */
  .logo-container-imperial {
    position: relative;
  }
  
  .logo-link-imperial {
    display: flex;
    align-items: center;
    gap: 1rem;
    text-decoration: none;
    transition: var(--transition-elegant);
  }
  
  .logo-icon-imperial {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 60px;
    height: 60px;
  }
  
  .sushi-emoji-imperial {
    font-size: 2.2rem;
    position: relative;
    z-index: 3;
    transition: var(--transition-elegant);
    filter: drop-shadow(0 0 10px rgba(212, 175, 55, 0.3));
  }
  
  .logo-glow-imperial {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    opacity: 0;
    transition: var(--transition-elegant);
  }
  
  .logo-rings-imperial {
    position: absolute;
    inset: 0;
  }
  
  .logo-ring-mini {
    position: absolute;
    border: 1px solid;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
  
  .ring-1 {
    width: 70px;
    height: 70px;
    border-color: rgba(212, 175, 55, 0.3);
    animation: ringMiniPulse 4s ease-in-out infinite;
  }
  
  .ring-2 {
    width: 50px;
    height: 50px;
    border-color: rgba(196, 30, 58, 0.2);
    animation: ringMiniPulse 4s ease-in-out infinite 2s;
  }
  
  .logo-link-imperial:hover .logo-glow-imperial {
    opacity: 1;
  }
  
  .logo-link-imperial:hover .sushi-emoji-imperial {
    transform: rotate(15deg) scale(1.1);
  }
  
  .logo-text-imperial {
    display: flex;
    flex-direction: column;
  }
  
  .brand-name-imperial {
    font-size: 2rem;
    font-weight: 600;
    color: var(--pearl-white);
    line-height: 1;
    background: var(--gradient-kintsugi);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .brand-tagline-imperial {
    font-size: 0.8rem;
    color: rgba(212, 175, 55, 0.8);
    line-height: 1;
    margin-top: -2px;
    font-weight: 300;
  }
  
  /* Navigation Links */
  .nav-menu-imperial {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .nav-links-imperial {
    display: flex;
    align-items: center;
    gap: 2.5rem;
  }
  
  .nav-link-imperial {
    position: relative;
    display: flex;
    align-items: center;
    padding: 0.75rem 0;
    text-decoration: none;
    transition: var(--transition-elegant);
  }
  
  .link-text-imperial {
    color: rgba(229, 228, 226, 0.8);
    font-weight: 400;
    font-size: 0.95rem;
    letter-spacing: 0.01em;
    transition: var(--transition-elegant);
  }
  
  .link-underline-imperial {
    position: absolute;
    bottom: -6px;
    left: 0;
    width: 0;
    height: 2px;
    background: var(--gradient-kintsugi);
    transition: width 0.6s cubic-bezier(0.23, 1, 0.32, 1);
  }
  
  .link-glow-imperial {
    position: absolute;
    inset: -10px;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, transparent 70%);
    border-radius: 12px;
    opacity: 0;
    transition: var(--transition-elegant);
  }
  
  .nav-link-imperial:hover .link-text-imperial,
  .nav-link-imperial.active .link-text-imperial {
    color: var(--pearl-white);
  }
  
  .nav-link-imperial:hover .link-underline-imperial,
  .nav-link-imperial.active .link-underline-imperial {
    width: 100%;
  }
  
  .nav-link-imperial:hover .link-glow-imperial {
    opacity: 1;
  }
  
  /* Action Buttons */
  .nav-actions-imperial {
    position: relative;
  }
  
  .action-btn-imperial {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: rgba(229, 228, 226, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: var(--radius-md);
    color: rgba(229, 228, 226, 0.8);
    cursor: pointer;
    transition: var(--transition-elegant);
    overflow: hidden;
  }
  
  .action-btn-imperial:hover {
    background: rgba(212, 175, 55, 0.1);
    border-color: rgba(212, 175, 55, 0.4);
    color: var(--pearl-white);
    transform: translateY(-3px) scale(1.05);
    box-shadow: var(--shadow-kintsugi);
  }
  
  .btn-ripple-imperial {
    position: absolute;
    inset: 0;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.3) 0%, transparent 70%);
    transform: scale(0);
    transition: transform 0.4s ease;
  }
  
  .btn-glow-imperial {
    position: absolute;
    inset: -2px;
    background: var(--gradient-kintsugi);
    border-radius: var(--radius-md);
    opacity: 0;
    transition: var(--transition-elegant);
    z-index: -1;
    filter: blur(8px);
  }
  
  .action-btn-imperial:hover .btn-glow-imperial {
    opacity: 0.3;
  }
  
  .action-btn-imperial:active .btn-ripple-imperial {
    transform: scale(1);
  }
  
  /* Cart Badge */
  .cart-badge-imperial {
    position: absolute;
    top: -8px;
    right: -8px;
    background: var(--gradient-imperial);
    color: var(--pearl-white);
    font-size: 0.75rem;
    font-weight: 600;
    padding: 3px 7px;
    border-radius: var(--radius-full);
    min-width: 20px;
    text-align: center;
    animation: cartBadgeImperialPulse 2s ease-in-out infinite;
    box-shadow: 0 0 15px rgba(196, 30, 58, 0.5);
  }
  
  .cart-pulse-imperial {
    position: absolute;
    top: -8px;
    right: -8px;
    width: 20px;
    height: 20px;
    background: var(--imperial-red);
    border-radius: 50%;
    opacity: 0;
    animation: cartPulseImperial 2s ease-in-out infinite;
  }
  
  /* VIP Button Special Styling */
  .vip-btn-imperial {
    background: linear-gradient(135deg, rgba(212, 175, 55, 0.1) 0%, rgba(196, 30, 58, 0.05) 100%);
    border-color: rgba(212, 175, 55, 0.4);
  }
  
  .vip-btn-imperial:hover {
    background: var(--gradient-kintsugi);
    color: var(--obsidian-black);
    box-shadow: var(--shadow-holographic);
  }
  
  /* Imperial CTA */
  .cta-btn-imperial {
    position: relative;
    padding: 14px 28px;
    background: var(--gradient-imperial);
    color: var(--pearl-white);
    text-decoration: none;
    border-radius: var(--radius-full);
    font-weight: 600;
    font-size: 0.9rem;
    letter-spacing: 0.01em;
    overflow: hidden;
    transition: var(--transition-elegant);
    box-shadow: var(--shadow-imperial);
  }
  
  .cta-text-imperial {
    position: relative;
    z-index: 3;
  }
  
  .cta-glow-imperial {
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transform: translateX(-100%);
    transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  }
  
  .cta-particles-imperial {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }
  
  .cta-particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: var(--golden-kintsugi);
    border-radius: 50%;
    opacity: 0;
  }
  
  .cta-particle:nth-child(1) { top: 25%; left: 25%; }
  .cta-particle:nth-child(2) { top: 25%; right: 25%; }
  .cta-particle:nth-child(3) { bottom: 25%; left: 50%; }
  
  .cta-btn-imperial:hover .cta-glow-imperial {
    transform: translateX(100%);
  }
  
  .cta-btn-imperial:hover .cta-particle {
    animation: ctaParticleBurst 0.8s ease-out;
  }
  
  .cta-btn-imperial:hover {
    transform: translateY(-3px) scale(1.05);
    box-shadow: var(--shadow-holographic);
  }
  
  /* Mobile Menu */
  .mobile-menu-btn-imperial {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: rgba(229, 228, 226, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: var(--transition-elegant);
    overflow: hidden;
  }
  
  .mobile-btn-glow {
    position: absolute;
    inset: -2px;
    background: var(--gradient-kintsugi);
    border-radius: var(--radius-md);
    opacity: 0;
    transition: var(--transition-elegant);
    z-index: -1;
    filter: blur(8px);
  }
  
  .mobile-menu-btn-imperial:hover .mobile-btn-glow {
    opacity: 0.3;
  }
  
  .hamburger-imperial {
    display: flex;
    flex-direction: column;
    gap: 5px;
  }
  
  .hamburger-line-imperial {
    width: 22px;
    height: 2px;
    background: var(--pearl-white);
    transition: var(--transition-elegant);
    border-radius: 1px;
  }
  
  .mobile-menu-btn-imperial.active .hamburger-line-imperial:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
  }
  
  .mobile-menu-btn-imperial.active .hamburger-line-imperial:nth-child(2) {
    opacity: 0;
  }
  
  .mobile-menu-btn-imperial.active .hamburger-line-imperial:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
  }
  
  /* Mobile Menu Overlay */
  .mobile-menu-overlay-imperial {
    position: fixed;
    inset: 0;
    background: rgba(11, 11, 15, 0.98);
    backdrop-filter: blur(30px);
    z-index: 40;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition-ultra-smooth);
  }
  
  .mobile-menu-overlay-imperial.active {
    opacity: 1;
    visibility: visible;
  }
  
  .mobile-menu-content-imperial {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 2rem;
    position: relative;
  }
  
  .mobile-menu-header-imperial {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 1px solid rgba(212, 175, 55, 0.2);
  }
  
  .mobile-logo-imperial {
    display: flex;
    align-items: center;
    gap: 1rem;
  }
  
  .mobile-logo-imperial .sushi-emoji-imperial {
    font-size: 1.8rem;
  }
  
  .mobile-logo-imperial .brand-name-imperial {
    font-size: 1.8rem;
    font-weight: 600;
    background: var(--gradient-kintsugi);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .mobile-close-btn-imperial {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: rgba(229, 228, 226, 0.05);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: var(--radius-md);
    color: var(--pearl-white);
    cursor: pointer;
    transition: var(--transition-elegant);
    overflow: hidden;
  }
  
  .close-btn-glow {
    position: absolute;
    inset: -2px;
    background: var(--gradient-imperial);
    border-radius: var(--radius-md);
    opacity: 0;
    transition: var(--transition-elegant);
    z-index: -1;
    filter: blur(8px);
  }
  
  .mobile-close-btn-imperial:hover .close-btn-glow {
    opacity: 0.4;
  }
  
  /* Mobile Navigation */
  .mobile-nav-imperial {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .mobile-nav-link-imperial {
    position: relative;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.5rem 1rem;
    border-bottom: 1px solid rgba(212, 175, 55, 0.1);
    text-decoration: none;
    transition: var(--transition-elegant);
    border-radius: var(--radius-md);
    overflow: hidden;
  }
  
  .mobile-link-text-imperial {
    color: var(--pearl-white);
    font-size: 1.3rem;
    font-weight: 400;
    letter-spacing: 0.01em;
  }
  
  .mobile-link-arrow-imperial {
    color: rgba(212, 175, 55, 0.6);
    font-size: 1.3rem;
    transition: var(--transition-elegant);
  }
  
  .mobile-link-glow-imperial {
    position: absolute;
    inset: 0;
    background: var(--gradient-sakura);
    opacity: 0;
    transition: var(--transition-elegant);
  }
  
  .mobile-nav-link-imperial:hover .mobile-link-arrow-imperial {
    color: var(--golden-kintsugi);
    transform: translateX(8px);
  }
  
  .mobile-nav-link-imperial:hover .mobile-link-glow-imperial {
    opacity: 1;
  }
  
  /* Mobile Actions */
  .mobile-actions-imperial {
    margin-top: 2rem;
    padding-top: 2rem;
    border-top: 1px solid rgba(212, 175, 55, 0.2);
  }
  
  .mobile-action-buttons-imperial {
    display: flex;
    gap: 1rem;
    margin-bottom: 2rem;
  }
  
  .mobile-action-btn-imperial {
    position: relative;
    flex: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    padding: 1.2rem;
    background: rgba(229, 228, 226, 0.05);
    backdrop-filter: blur(20px);
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: var(--radius-md);
    color: var(--pearl-white);
    cursor: pointer;
    transition: var(--transition-elegant);
    overflow: hidden;
  }
  
  .mobile-action-glow {
    position: absolute;
    inset: 0;
    background: var(--gradient-sakura);
    opacity: 0;
    transition: var(--transition-elegant);
  }
  
  .mobile-action-btn-imperial:hover .mobile-action-glow {
    opacity: 1;
  }
  
  .mobile-cart-badge-imperial {
    position: absolute;
    top: -8px;
    right: -8px;
    background: var(--gradient-imperial);
    color: var(--pearl-white);
    font-size: 0.75rem;
    font-weight: 600;
    padding: 3px 7px;
    border-radius: var(--radius-full);
    min-width: 20px;
    text-align: center;
  }
  
  .mobile-cta-btn-imperial {
    position: relative;
    display: block;
    width: 100%;
    padding: 1.5rem;
    background: var(--gradient-imperial);
    color: var(--pearl-white);
    text-align: center;
    text-decoration: none;
    border-radius: var(--radius-lg);
    font-weight: 700;
    font-size: 1.1rem;
    letter-spacing: 0.01em;
    transition: var(--transition-elegant);
    box-shadow: var(--shadow-imperial);
    overflow: hidden;
  }
  
  .mobile-cta-glow {
    position: absolute;
    inset: 0;
    background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.3), transparent);
    transform: translateX(-100%);
    transition: transform 0.8s cubic-bezier(0.23, 1, 0.32, 1);
  }
  
  .mobile-cta-btn-imperial:hover .mobile-cta-glow {
    transform: translateX(100%);
  }
  
  .mobile-cta-btn-imperial:hover {
    transform: translateY(-2px) scale(1.02);
    box-shadow: var(--shadow-holographic);
  }
  
  /* Animations */
  @keyframes ringMiniPulse {
    0%, 100% { 
      transform: translate(-50%, -50%) scale(1);
      opacity: 0.3;
    }
    50% { 
      transform: translate(-50%, -50%) scale(1.1);
      opacity: 0.6;
    }
  }
  
  @keyframes cartBadgeImperialPulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.15); }
  }
  
  @keyframes cartPulseImperial {
    0% {
      transform: scale(0.8);
      opacity: 0.7;
    }
    100% {
      transform: scale(2.5);
      opacity: 0;
    }
  }
  
  @keyframes ctaParticleBurst {
    0% {
      opacity: 0;
      transform: scale(0);
    }
    50% {
      opacity: 1;
      transform: scale(1.5);
    }
    100% {
      opacity: 0;
      transform: scale(0) translateY(-25px);
    }
  }
  
  /* Responsive Design */
  @media (max-width: 1024px) {
    .nav-menu-imperial {
      display: none;
    }
    
    .nav-actions-imperial {
      display: none;
    }
  }
  
  @media (max-width: 768px) {
    .brand-name-imperial {
      font-size: 1.7rem;
    }
    
    .brand-tagline-imperial {
      font-size: 0.75rem;
    }
    
    .nav-container-imperial {
      height: 20px;
    }
  }
  
  @media (max-width: 480px) {
    .mobile-menu-content-imperial {
      padding: 1.5rem;
    }
    
    .mobile-link-text-imperial {
      font-size: 1.2rem;
    }
    
    .mobile-action-buttons-imperial {
      flex-direction: column;
    }
  }
</style>

<script>
  // Header scroll effect with ultra-smooth transitions
  const header = document.getElementById('header');
  let lastScrollY = window.scrollY;
  let ticking = false;
  
  function updateHeader() {
    const currentScrollY = window.scrollY;
    
    if (currentScrollY > 80) {
      header?.classList.add('scrolled');
    } else {
      header?.classList.remove('scrolled');
    }
    
    lastScrollY = currentScrollY;
    ticking = false;
  }
  
  function requestTick() {
    if (!ticking) {
      requestAnimationFrame(updateHeader);
      ticking = true;
    }
  }
  
  window.addEventListener('scroll', requestTick);
  
  // Mobile menu toggle with enhanced animations
  const mobileMenuBtn = document.querySelector('.mobile-menu-btn-imperial');
  const mobileMenuOverlay = document.querySelector('.mobile-menu-overlay-imperial');
  const mobileCloseBtn = document.querySelector('.mobile-close-btn-imperial');
  
  function toggleMobileMenu() {
    mobileMenuBtn?.classList.toggle('active');
    mobileMenuOverlay?.classList.toggle('active');
    document.body.style.overflow = mobileMenuOverlay?.classList.contains('active') ? 'hidden' : '';
  }
  
  mobileMenuBtn?.addEventListener('click', toggleMobileMenu);
  mobileCloseBtn?.addEventListener('click', toggleMobileMenu);
  
  // Close mobile menu when clicking on overlay
  mobileMenuOverlay?.addEventListener('click', (e) => {
    if (e.target === mobileMenuOverlay) {
      toggleMobileMenu();
    }
  });
  
  // Active navigation link detection
  const currentPath = window.location.pathname;
  const navLinks = document.querySelectorAll('.nav-link-imperial');
  
  navLinks.forEach(link => {
    link.classList.remove('active');
    if (link.getAttribute('href') === currentPath) {
      link.classList.add('active');
    }
  });
  
  // Cart functionality with imperial animations
  let cartCount = 0;
  const cartBadge = document.getElementById('cart-count');
  const mobileCartBadge = document.querySelector('.mobile-cart-badge-imperial');
  
  function updateCartCount(count) {
    cartCount = count;
    if (cartBadge) {
      cartBadge.textContent = count.toString();
      if (count > 0) {
        cartBadge.style.animation = 'cartBadgeImperialPulse 0.6s ease-out';
      }
    }
    if (mobileCartBadge) {
      mobileCartBadge.textContent = count.toString();
    }
  }
  
  // Enhanced ripple effects for all action buttons
  document.querySelectorAll('.action-btn-imperial').forEach(btn => {
    btn.addEventListener('click', function(e) {
      const ripple = this.querySelector('.btn-ripple-imperial');
      if (ripple) {
        ripple.style.transform = 'scale(1)';
        setTimeout(() => {
          ripple.style.transform = 'scale(0)';
        }, 400);
      }
    });
  });
  
  // VIP button special interaction
  const vipBtn = document.querySelector('.vip-btn-imperial');
  vipBtn?.addEventListener('click', () => {
    // Create premium notification
    const notification = document.createElement('div');
    notification.className = 'vip-notification';
    notification.innerHTML = `
      <div class="vip-notification-content">
        <div class="vip-icon">üëë</div>
        <div class="vip-text">
          <div class="vip-title">Acc√®s VIP</div>
          <div class="vip-subtitle">Fonctionnalit√© premium √† venir</div>
        </div>
      </div>
    `;
    
    notification.style.cssText = `
      position: fixed;
      top: 100px;
      right: 20px;
      background: var(--gradient-imperial);
      backdrop-filter: blur(30px);
      color: var(--pearl-white);
      padding: 1rem 1.5rem;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-holographic);
      z-index: 1000;
      animation: slideInRight 0.6s cubic-bezier(0.23, 1, 0.32, 1);
      border: 1px solid rgba(212, 175, 55, 0.3);
    `;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
      notification.style.animation = 'slideOutRight 0.6s cubic-bezier(0.23, 1, 0.32, 1) forwards';
    }, 3000);
    
    setTimeout(() => {
      document.body.removeChild(notification);
    }, 3600);
  });
  
  // Add CSS for VIP notification animations
  const style = document.createElement('style');
  style.textContent = `
    .vip-notification-content {
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    
    .vip-icon {
      font-size: 1.5rem;
    }
    
    .vip-title {
      font-weight: 600;
      font-size: 1rem;
    }
    
    .vip-subtitle {
      font-size: 0.85rem;
      opacity: 0.8;
    }
    
    @keyframes slideInRight {
      0% {
        opacity: 0;
        transform: translateX(100px);
      }
      100% {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes slideOutRight {
      0% {
        opacity: 1;
        transform: translateX(0);
      }
      100% {
        opacity: 0;
        transform: translateX(100px);
      }
    }
  `;
  document.head.appendChild(style);
</script>